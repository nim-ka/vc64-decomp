.section .text

glabel func_8003C540
/* 8003C540 00037B00  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8003C544 00037B04  7C 08 02 A6 */	mflr r0
/* 8003C548 00037B08  3C C0 30 00 */	lis r6, 0x30000200@ha
/* 8003C54C 00037B0C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8003C550 00037B10  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8003C554 00037B14  7C BF 2B 78 */	mr r31, r5
/* 8003C558 00037B18  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8003C55C 00037B1C  7C 9E 23 78 */	mr r30, r4
/* 8003C560 00037B20  38 86 02 00 */	addi r4, r6, 0x30000200@l
/* 8003C564 00037B24  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8003C568 00037B28  7C 7D 1B 78 */	mr r29, r3
/* 8003C56C 00037B2C  38 61 00 08 */	addi r3, r1, 8
/* 8003C570 00037B30  4B FC C2 1D */	bl func_8000878C
/* 8003C574 00037B34  2C 03 00 00 */	cmpwi r3, 0
/* 8003C578 00037B38  40 82 00 0C */	bne lbl_8003C584
/* 8003C57C 00037B3C  38 60 00 00 */	li r3, 0
/* 8003C580 00037B40  48 00 01 D8 */	b lbl_8003C758
lbl_8003C584:
/* 8003C584 00037B44  80 01 00 08 */	lwz r0, 8(r1)
/* 8003C588 00037B48  3C A0 7C C8 */	lis r5, 0x7CC802A6@ha
/* 8003C58C 00037B4C  3C 80 80 17 */	lis r4, lbl_8016D410@ha
/* 8003C590 00037B50  38 7D 00 50 */	addi r3, r29, 0x50
/* 8003C594 00037B54  90 1E 00 00 */	stw r0, 0(r30)
/* 8003C598 00037B58  38 C5 02 A6 */	addi r6, r5, 0x7CC802A6@l
/* 8003C59C 00037B5C  38 84 D4 10 */	addi r4, r4, lbl_8016D410@l
/* 8003C5A0 00037B60  38 00 00 1F */	li r0, 0x1f
/* 8003C5A4 00037B64  80 A1 00 08 */	lwz r5, 8(r1)
/* 8003C5A8 00037B68  7C 68 1B 78 */	mr r8, r3
/* 8003C5AC 00037B6C  38 E4 00 04 */	addi r7, r4, 4
/* 8003C5B0 00037B70  90 C5 00 00 */	stw r6, 0(r5)
/* 8003C5B4 00037B74  38 A5 00 04 */	addi r5, r5, 4
/* 8003C5B8 00037B78  7C 09 03 A6 */	mtctr r0
lbl_8003C5BC:
/* 8003C5BC 00037B7C  80 C7 00 00 */	lwz r6, 0(r7)
/* 8003C5C0 00037B80  54 C0 05 EF */	rlwinm. r0, r6, 0, 0x17, 0x17
/* 8003C5C4 00037B84  40 82 00 20 */	bne lbl_8003C5E4
/* 8003C5C8 00037B88  7C 9D 40 50 */	subf r4, r29, r8
/* 8003C5CC 00037B8C  54 C0 A8 14 */	slwi r0, r6, 0x15
/* 8003C5D0 00037B90  38 84 00 04 */	addi r4, r4, 4
/* 8003C5D4 00037B94  64 00 90 03 */	oris r0, r0, 0x9003
/* 8003C5D8 00037B98  7C 80 03 78 */	or r0, r4, r0
/* 8003C5DC 00037B9C  90 05 00 00 */	stw r0, 0(r5)
/* 8003C5E0 00037BA0  38 A5 00 04 */	addi r5, r5, 4
lbl_8003C5E4:
/* 8003C5E4 00037BA4  38 E7 00 04 */	addi r7, r7, 4
/* 8003C5E8 00037BA8  39 08 00 08 */	addi r8, r8, 8
/* 8003C5EC 00037BAC  42 00 FF D0 */	bdnz lbl_8003C5BC
/* 8003C5F0 00037BB0  7C 05 F8 50 */	subf r0, r5, r31
/* 8003C5F4 00037BB4  3C 80 7C 68 */	lis r4, 0x7C6803A6@ha
/* 8003C5F8 00037BB8  54 00 01 BA */	rlwinm r0, r0, 0, 6, 0x1d
/* 8003C5FC 00037BBC  57 A7 84 3E */	srwi r7, r29, 0x10
/* 8003C600 00037BC0  64 08 48 00 */	oris r8, r0, 0x4800
/* 8003C604 00037BC4  57 A6 04 3E */	clrlwi r6, r29, 0x10
/* 8003C608 00037BC8  61 08 00 01 */	ori r8, r8, 1
/* 8003C60C 00037BCC  39 24 03 A6 */	addi r9, r4, 0x7C6803A6@l
/* 8003C610 00037BD0  91 05 00 00 */	stw r8, 0(r5)
/* 8003C614 00037BD4  38 1D 00 34 */	addi r0, r29, 0x34
/* 8003C618 00037BD8  7C 9D 00 50 */	subf r4, r29, r0
/* 8003C61C 00037BDC  64 E7 3C 60 */	oris r7, r7, 0x3c60
/* 8003C620 00037BE0  91 25 00 04 */	stw r9, 4(r5)
/* 8003C624 00037BE4  3C 04 80 83 */	addis r0, r4, 0x8083
/* 8003C628 00037BE8  64 C6 60 63 */	oris r6, r6, 0x6063
/* 8003C62C 00037BEC  39 05 00 14 */	addi r8, r5, 0x14
/* 8003C630 00037BF0  90 E5 00 08 */	stw r7, 8(r5)
/* 8003C634 00037BF4  38 E8 00 04 */	addi r7, r8, 4
/* 8003C638 00037BF8  3C 9D 00 01 */	addis r4, r29, 1
/* 8003C63C 00037BFC  90 C5 00 0C */	stw r6, 0xc(r5)
/* 8003C640 00037C00  90 05 00 10 */	stw r0, 0x10(r5)
/* 8003C644 00037C04  7C E5 3B 78 */	mr r5, r7
/* 8003C648 00037C08  91 01 00 08 */	stw r8, 8(r1)
/* 8003C64C 00037C0C  80 CD 89 88 */	lwz r6, gSystem-_SDA_BASE_(r13)
/* 8003C650 00037C10  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 8003C654 00037C14  80 C6 00 04 */	lwz r6, 4(r6)
/* 8003C658 00037C18  3C C6 80 00 */	addis r6, r6, 0x8000
/* 8003C65C 00037C1C  54 C0 84 3E */	srwi r0, r6, 0x10
/* 8003C660 00037C20  64 00 3D 00 */	oris r0, r0, 0x3d00
/* 8003C664 00037C24  90 08 00 00 */	stw r0, 0(r8)
/* 8003C668 00037C28  90 E1 00 08 */	stw r7, 8(r1)
/* 8003C66C 00037C2C  80 84 22 24 */	lwz r4, 0x2224(r4)
/* 8003C670 00037C30  54 80 05 EF */	rlwinm. r0, r4, 0, 0x17, 0x17
/* 8003C674 00037C34  41 82 00 30 */	beq lbl_8003C6A4
/* 8003C678 00037C38  3C 80 3D 21 */	lis r4, 0x3D20DFFF@ha
/* 8003C67C 00037C3C  54 C0 04 3E */	clrlwi r0, r6, 0x10
/* 8003C680 00037C40  38 A4 DF FF */	addi r5, r4, 0x3D20DFFF@l
/* 8003C684 00037C44  90 A7 00 00 */	stw r5, 0(r7)
/* 8003C688 00037C48  64 06 61 08 */	oris r6, r0, 0x6108
/* 8003C68C 00037C4C  3C 80 61 2A */	lis r4, 0x6129FFFF@ha
/* 8003C690 00037C50  38 A7 00 0C */	addi r5, r7, 0xc
/* 8003C694 00037C54  90 C7 00 04 */	stw r6, 4(r7)
/* 8003C698 00037C58  38 04 FF FF */	addi r0, r4, 0x6129FFFF@l
/* 8003C69C 00037C5C  90 07 00 08 */	stw r0, 8(r7)
/* 8003C6A0 00037C60  48 00 00 2C */	b lbl_8003C6CC
lbl_8003C6A4:
/* 8003C6A4 00037C64  54 80 07 FF */	clrlwi. r0, r4, 0x1f
/* 8003C6A8 00037C68  41 82 00 24 */	beq lbl_8003C6CC
/* 8003C6AC 00037C6C  38 9D 0F 60 */	addi r4, r29, 0xf60
/* 8003C6B0 00037C70  54 C0 04 3E */	clrlwi r0, r6, 0x10
/* 8003C6B4 00037C74  7C 9D 20 50 */	subf r4, r29, r4
/* 8003C6B8 00037C78  38 A7 00 08 */	addi r5, r7, 8
/* 8003C6BC 00037C7C  3C 84 39 23 */	addis r4, r4, 0x3923
/* 8003C6C0 00037C80  64 00 61 08 */	oris r0, r0, 0x6108
/* 8003C6C4 00037C84  90 87 00 00 */	stw r4, 0(r7)
/* 8003C6C8 00037C88  90 07 00 04 */	stw r0, 4(r7)
lbl_8003C6CC:
/* 8003C6CC 00037C8C  3C 80 80 17 */	lis r4, lbl_8016D410@ha
/* 8003C6D0 00037C90  38 00 00 1F */	li r0, 0x1f
/* 8003C6D4 00037C94  80 C4 D4 10 */	lwz r6, lbl_8016D410@l(r4)
/* 8003C6D8 00037C98  38 84 D4 10 */	addi r4, r4, -11248
/* 8003C6DC 00037C9C  38 E4 00 04 */	addi r7, r4, 4
/* 8003C6E0 00037CA0  54 C6 A8 14 */	slwi r6, r6, 0x15
/* 8003C6E4 00037CA4  64 C4 38 00 */	oris r4, r6, 0x3800
/* 8003C6E8 00037CA8  90 85 00 00 */	stw r4, 0(r5)
/* 8003C6EC 00037CAC  7C 09 03 A6 */	mtctr r0
/* 8003C6F0 00037CB0  38 A5 00 04 */	addi r5, r5, 4
lbl_8003C6F4:
/* 8003C6F4 00037CB4  80 C7 00 00 */	lwz r6, 0(r7)
/* 8003C6F8 00037CB8  54 C0 05 EF */	rlwinm. r0, r6, 0, 0x17, 0x17
/* 8003C6FC 00037CBC  40 82 00 20 */	bne lbl_8003C71C
/* 8003C700 00037CC0  7C 9D 18 50 */	subf r4, r29, r3
/* 8003C704 00037CC4  54 C0 A8 14 */	slwi r0, r6, 0x15
/* 8003C708 00037CC8  38 84 00 04 */	addi r4, r4, 4
/* 8003C70C 00037CCC  64 00 80 03 */	oris r0, r0, 0x8003
/* 8003C710 00037CD0  7C 80 03 78 */	or r0, r4, r0
/* 8003C714 00037CD4  90 05 00 00 */	stw r0, 0(r5)
/* 8003C718 00037CD8  38 A5 00 04 */	addi r5, r5, 4
lbl_8003C71C:
/* 8003C71C 00037CDC  38 E7 00 04 */	addi r7, r7, 4
/* 8003C720 00037CE0  38 63 00 08 */	addi r3, r3, 8
/* 8003C724 00037CE4  42 00 FF D0 */	bdnz lbl_8003C6F4
/* 8003C728 00037CE8  3C 60 4E 80 */	lis r3, 0x4E800020@ha
/* 8003C72C 00037CEC  38 80 02 00 */	li r4, 0x200
/* 8003C730 00037CF0  38 03 00 20 */	addi r0, r3, 0x4E800020@l
/* 8003C734 00037CF4  90 05 00 00 */	stw r0, 0(r5)
/* 8003C738 00037CF8  38 A5 00 04 */	addi r5, r5, 4
/* 8003C73C 00037CFC  90 A1 00 08 */	stw r5, 8(r1)
/* 8003C740 00037D00  80 7E 00 00 */	lwz r3, 0(r30)
/* 8003C744 00037D04  48 04 BB 15 */	bl func_80088258
/* 8003C748 00037D08  80 7E 00 00 */	lwz r3, 0(r30)
/* 8003C74C 00037D0C  38 80 02 00 */	li r4, 0x200
/* 8003C750 00037D10  48 04 BB 91 */	bl func_800882E0
/* 8003C754 00037D14  38 60 00 01 */	li r3, 1
lbl_8003C758:
/* 8003C758 00037D18  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8003C75C 00037D1C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8003C760 00037D20  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8003C764 00037D24  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8003C768 00037D28  7C 08 03 A6 */	mtlr r0
/* 8003C76C 00037D2C  38 21 00 20 */	addi r1, r1, 0x20
/* 8003C770 00037D30  4E 80 00 20 */	blr 