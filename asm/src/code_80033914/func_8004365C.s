.section .text

glabel func_8004365C
/* 8004365C 0003EC1C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80043660 0003EC20  7C 08 02 A6 */	mflr r0
/* 80043664 0003EC24  3C 83 00 01 */	addis r4, r3, 1
/* 80043668 0003EC28  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004366C 0003EC2C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80043670 0003EC30  7C 7F 1B 78 */	mr r31, r3
/* 80043674 0003EC34  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80043678 0003EC38  80 E4 1A 54 */	lwz r7, 0x1a54(r4)
/* 8004367C 0003EC3C  80 AD 89 88 */	lwz r5, gSystem-_SDA_BASE_(r13)
/* 80043680 0003EC40  2C 07 00 00 */	cmpwi r7, 0
/* 80043684 0003EC44  81 25 00 10 */	lwz r9, 0x10(r5)
/* 80043688 0003EC48  40 82 00 10 */	bne lbl_80043698
/* 8004368C 0003EC4C  80 04 1A 58 */	lwz r0, 0x1a58(r4)
/* 80043690 0003EC50  2C 00 00 00 */	cmpwi r0, 0
/* 80043694 0003EC54  41 82 00 14 */	beq lbl_800436A8
lbl_80043698:
/* 80043698 0003EC58  3C C3 00 01 */	addis r6, r3, 1
/* 8004369C 0003EC5C  80 06 1A 34 */	lwz r0, 0x1a34(r6)
/* 800436A0 0003EC60  2C 00 00 00 */	cmpwi r0, 0
/* 800436A4 0003EC64  41 82 00 0C */	beq lbl_800436B0
lbl_800436A8:
/* 800436A8 0003EC68  38 60 00 01 */	li r3, 1
/* 800436AC 0003EC6C  48 00 00 E4 */	b lbl_80043790
lbl_800436B0:
/* 800436B0 0003EC70  80 86 1A 58 */	lwz r4, 0x1a58(r6)
/* 800436B4 0003EC74  54 E0 BA 76 */	rlwinm r0, r7, 0x17, 9, 0x1b
/* 800436B8 0003EC78  7C A3 02 14 */	add r5, r3, r0
/* 800436BC 0003EC7C  54 FE 9B 7E */	srwi r30, r7, 0xd
/* 800436C0 0003EC80  54 88 9B 7E */	srwi r8, r4, 0xd
/* 800436C4 0003EC84  54 E4 00 24 */	rlwinm r4, r7, 0, 0, 0x12
/* 800436C8 0003EC88  38 08 00 01 */	addi r0, r8, 1
/* 800436CC 0003EC8C  38 E5 02 18 */	addi r7, r5, 0x218
/* 800436D0 0003EC90  7C 1E 00 50 */	subf r0, r30, r0
/* 800436D4 0003EC94  7C 09 03 A6 */	mtctr r0
/* 800436D8 0003EC98  7C 1E 40 40 */	cmplw r30, r8
/* 800436DC 0003EC9C  41 81 00 A0 */	bgt lbl_8004377C
lbl_800436E0:
/* 800436E0 0003ECA0  80 A9 00 3C */	lwz r5, 0x3c(r9)
/* 800436E4 0003ECA4  80 09 00 40 */	lwz r0, 0x40(r9)
/* 800436E8 0003ECA8  7C 05 00 40 */	cmplw r5, r0
/* 800436EC 0003ECAC  41 82 00 0C */	beq lbl_800436F8
/* 800436F0 0003ECB0  38 60 00 01 */	li r3, 1
/* 800436F4 0003ECB4  48 00 00 9C */	b lbl_80043790
lbl_800436F8:
/* 800436F8 0003ECB8  80 A6 02 18 */	lwz r5, 0x218(r6)
/* 800436FC 0003ECBC  38 05 00 01 */	addi r0, r5, 1
/* 80043700 0003ECC0  90 06 02 18 */	stw r0, 0x218(r6)
/* 80043704 0003ECC4  90 07 00 08 */	stw r0, 8(r7)
/* 80043708 0003ECC8  80 07 00 04 */	lwz r0, 4(r7)
/* 8004370C 0003ECCC  2C 00 00 00 */	cmpwi r0, 0
/* 80043710 0003ECD0  40 82 00 58 */	bne lbl_80043768
/* 80043714 0003ECD4  7F E3 FB 78 */	mr r3, r31
/* 80043718 0003ECD8  38 81 00 08 */	addi r4, r1, 8
/* 8004371C 0003ECDC  38 A0 00 00 */	li r5, 0
/* 80043720 0003ECE0  4B FF F9 9D */	bl func_800430BC
/* 80043724 0003ECE4  2C 03 00 00 */	cmpwi r3, 0
/* 80043728 0003ECE8  40 82 00 0C */	bne lbl_80043734
/* 8004372C 0003ECEC  38 60 00 00 */	li r3, 0
/* 80043730 0003ECF0  48 00 00 60 */	b lbl_80043790
lbl_80043734:
/* 80043734 0003ECF4  3C 7F 00 01 */	addis r3, r31, 1
/* 80043738 0003ECF8  38 00 00 01 */	li r0, 1
/* 8004373C 0003ECFC  90 03 1A 34 */	stw r0, 0x1a34(r3)
/* 80043740 0003ED00  3C C0 80 04 */	lis r6, func_80043640@ha
/* 80043744 0003ED04  7F E3 FB 78 */	mr r3, r31
/* 80043748 0003ED08  7F C4 F3 78 */	mr r4, r30
/* 8004374C 0003ED0C  80 A1 00 08 */	lwz r5, 8(r1)
/* 80043750 0003ED10  38 C6 36 40 */	addi r6, r6, func_80043640@l
/* 80043754 0003ED14  4B FF FE 01 */	bl func_80043554
/* 80043758 0003ED18  7C 03 00 D0 */	neg r0, r3
/* 8004375C 0003ED1C  7C 00 1B 78 */	or r0, r0, r3
/* 80043760 0003ED20  54 03 0F FE */	srwi r3, r0, 0x1f
/* 80043764 0003ED24  48 00 00 2C */	b lbl_80043790
lbl_80043768:
/* 80043768 0003ED28  38 84 20 00 */	addi r4, r4, 0x2000
/* 8004376C 0003ED2C  3B DE 00 01 */	addi r30, r30, 1
/* 80043770 0003ED30  90 86 1A 54 */	stw r4, 0x1a54(r6)
/* 80043774 0003ED34  38 E7 00 10 */	addi r7, r7, 0x10
/* 80043778 0003ED38  42 00 FF 68 */	bdnz lbl_800436E0
lbl_8004377C:
/* 8004377C 0003ED3C  3C 83 00 01 */	addis r4, r3, 1
/* 80043780 0003ED40  38 00 00 00 */	li r0, 0
/* 80043784 0003ED44  90 04 1A 58 */	stw r0, 0x1a58(r4)
/* 80043788 0003ED48  38 60 00 01 */	li r3, 1
/* 8004378C 0003ED4C  90 04 1A 54 */	stw r0, 0x1a54(r4)
lbl_80043790:
/* 80043790 0003ED50  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80043794 0003ED54  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80043798 0003ED58  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8004379C 0003ED5C  7C 08 03 A6 */	mtlr r0
/* 800437A0 0003ED60  38 21 00 20 */	addi r1, r1, 0x20
/* 800437A4 0003ED64  4E 80 00 20 */	blr 