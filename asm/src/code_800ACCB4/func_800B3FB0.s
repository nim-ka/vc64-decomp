.section .text

glabel func_800B3FB0
/* 800B3FB0 000AF570  94 21 FF 70 */	stwu r1, -0x90(r1)
/* 800B3FB4 000AF574  7C 08 02 A6 */	mflr r0
/* 800B3FB8 000AF578  90 01 00 94 */	stw r0, 0x94(r1)
/* 800B3FBC 000AF57C  39 61 00 90 */	addi r11, r1, 0x90
/* 800B3FC0 000AF580  48 09 B9 F1 */	bl func_8014F9B0
/* 800B3FC4 000AF584  3D 40 80 17 */	lis r10, lbl_80170004@ha
/* 800B3FC8 000AF588  85 2A 89 D0 */	lwzu r9, -0x7630(r10)
/* 800B3FCC 000AF58C  39 66 00 01 */	addi r11, r6, 1
/* 800B3FD0 000AF590  7C 99 23 78 */	mr r25, r4
/* 800B3FD4 000AF594  55 64 0F FE */	srwi r4, r11, 0x1f
/* 800B3FD8 000AF598  81 0A 00 04 */	lwz r8, lbl_80170004@l(r10)
/* 800B3FDC 000AF59C  7C FF 3B 78 */	mr r31, r7
/* 800B3FE0 000AF5A0  80 0A 00 08 */	lwz r0, 8(r10)
/* 800B3FE4 000AF5A4  7C 84 5A 14 */	add r4, r4, r11
/* 800B3FE8 000AF5A8  82 4A 00 0C */	lwz r18, 0xc(r10)
/* 800B3FEC 000AF5AC  83 6A 00 10 */	lwz r27, 0x10(r10)
/* 800B3FF0 000AF5B0  7C DE 33 78 */	mr r30, r6
/* 800B3FF4 000AF5B4  83 4A 00 14 */	lwz r26, 0x14(r10)
/* 800B3FF8 000AF5B8  7C 7C 1B 78 */	mr r28, r3
/* 800B3FFC 000AF5BC  83 0A 00 18 */	lwz r24, 0x18(r10)
/* 800B4000 000AF5C0  7C BD 2B 78 */	mr r29, r5
/* 800B4004 000AF5C4  82 EA 00 1C */	lwz r23, 0x1c(r10)
/* 800B4008 000AF5C8  7C 85 0E 70 */	srawi r5, r4, 1
/* 800B400C 000AF5CC  82 CA 00 20 */	lwz r22, 0x20(r10)
/* 800B4010 000AF5D0  7F E3 FB 78 */	mr r3, r31
/* 800B4014 000AF5D4  82 AA 00 24 */	lwz r21, 0x24(r10)
/* 800B4018 000AF5D8  38 80 00 00 */	li r4, 0
/* 800B401C 000AF5DC  82 8A 00 28 */	lwz r20, 0x28(r10)
/* 800B4020 000AF5E0  82 6A 00 2C */	lwz r19, 0x2c(r10)
/* 800B4024 000AF5E4  81 8A 00 30 */	lwz r12, 0x30(r10)
/* 800B4028 000AF5E8  81 6A 00 34 */	lwz r11, 0x34(r10)
/* 800B402C 000AF5EC  80 EA 00 38 */	lwz r7, 0x38(r10)
/* 800B4030 000AF5F0  80 CA 00 3C */	lwz r6, 0x3c(r10)
/* 800B4034 000AF5F4  91 21 00 08 */	stw r9, 8(r1)
/* 800B4038 000AF5F8  91 01 00 0C */	stw r8, 0xc(r1)
/* 800B403C 000AF5FC  90 01 00 10 */	stw r0, 0x10(r1)
/* 800B4040 000AF600  92 41 00 14 */	stw r18, 0x14(r1)
/* 800B4044 000AF604  93 61 00 18 */	stw r27, 0x18(r1)
/* 800B4048 000AF608  93 41 00 1C */	stw r26, 0x1c(r1)
/* 800B404C 000AF60C  93 01 00 20 */	stw r24, 0x20(r1)
/* 800B4050 000AF610  92 E1 00 24 */	stw r23, 0x24(r1)
/* 800B4054 000AF614  92 C1 00 28 */	stw r22, 0x28(r1)
/* 800B4058 000AF618  92 A1 00 2C */	stw r21, 0x2c(r1)
/* 800B405C 000AF61C  92 81 00 30 */	stw r20, 0x30(r1)
/* 800B4060 000AF620  92 61 00 34 */	stw r19, 0x34(r1)
/* 800B4064 000AF624  91 81 00 38 */	stw r12, 0x38(r1)
/* 800B4068 000AF628  91 61 00 3C */	stw r11, 0x3c(r1)
/* 800B406C 000AF62C  90 E1 00 40 */	stw r7, 0x40(r1)
/* 800B4070 000AF630  90 C1 00 44 */	stw r6, 0x44(r1)
/* 800B4074 000AF634  4B F5 03 C9 */	bl memset
/* 800B4078 000AF638  57 20 07 FF */	clrlwi. r0, r25, 0x1f
/* 800B407C 000AF63C  40 82 00 20 */	bne lbl_800B409C
/* 800B4080 000AF640  39 60 00 00 */	li r11, 0
/* 800B4084 000AF644  39 80 00 7F */	li r12, 0x7f
/* 800B4088 000AF648  38 A0 00 00 */	li r5, 0
/* 800B408C 000AF64C  3B 60 00 00 */	li r27, 0
/* 800B4090 000AF650  3B 40 00 00 */	li r26, 0
/* 800B4094 000AF654  3B 20 00 00 */	li r25, 0
/* 800B4098 000AF658  48 00 00 1C */	b lbl_800B40B4
lbl_800B409C:
/* 800B409C 000AF65C  81 7C 00 00 */	lwz r11, 0(r28)
/* 800B40A0 000AF660  81 9C 00 04 */	lwz r12, 4(r28)
/* 800B40A4 000AF664  80 BC 00 08 */	lwz r5, 8(r28)
/* 800B40A8 000AF668  83 7C 00 0C */	lwz r27, 0xc(r28)
/* 800B40AC 000AF66C  83 5C 00 10 */	lwz r26, 0x10(r28)
/* 800B40B0 000AF670  83 3C 00 14 */	lwz r25, 0x14(r28)
lbl_800B40B4:
/* 800B40B4 000AF674  3C 60 00 01 */	lis r3, 0x0000FFFF@ha
/* 800B40B8 000AF678  3B 01 00 08 */	addi r24, r1, 8
/* 800B40BC 000AF67C  C8 42 87 30 */	lfd f2, lbl_8025C870-_SDA2_BASE_(r2)
/* 800B40C0 000AF680  38 83 FF FF */	addi r4, r3, 0x0000FFFF@l
/* 800B40C4 000AF684  38 C0 00 00 */	li r6, 0
/* 800B40C8 000AF688  3C 00 FF FF */	lis r0, 0xffff
/* 800B40CC 000AF68C  3E E0 43 30 */	lis r23, 0x4330
/* 800B40D0 000AF690  7F C9 03 A6 */	mtctr r30
/* 800B40D4 000AF694  2C 1E 00 00 */	cmpwi r30, 0
/* 800B40D8 000AF698  40 81 01 7C */	ble lbl_800B4254
lbl_800B40DC:
/* 800B40DC 000AF69C  A8 BD 00 00 */	lha r5, 0(r29)
/* 800B40E0 000AF6A0  39 40 00 00 */	li r10, 0
/* 800B40E4 000AF6A4  39 20 00 00 */	li r9, 0
/* 800B40E8 000AF6A8  39 00 00 00 */	li r8, 0
/* 800B40EC 000AF6AC  7C 05 58 00 */	cmpw r5, r11
/* 800B40F0 000AF6B0  38 E0 00 00 */	li r7, 0
/* 800B40F4 000AF6B4  3B BD 00 02 */	addi r29, r29, 2
/* 800B40F8 000AF6B8  40 80 00 08 */	bge lbl_800B4100
/* 800B40FC 000AF6BC  38 E0 00 01 */	li r7, 1
lbl_800B4100:
/* 800B4100 000AF6C0  7E 6B 28 50 */	subf r19, r11, r5
/* 800B4104 000AF6C4  7E 65 FE 70 */	srawi r5, r19, 0x1f
/* 800B4108 000AF6C8  7C BB 9A 78 */	xor r27, r5, r19
/* 800B410C 000AF6CC  7F 65 D8 50 */	subf r27, r5, r27
/* 800B4110 000AF6D0  7C 1B 60 00 */	cmpw r27, r12
/* 800B4114 000AF6D4  41 80 00 0C */	blt lbl_800B4120
/* 800B4118 000AF6D8  39 00 00 01 */	li r8, 1
/* 800B411C 000AF6DC  7F 6C D8 50 */	subf r27, r12, r27
lbl_800B4120:
/* 800B4120 000AF6E0  55 85 0F FE */	srwi r5, r12, 0x1f
/* 800B4124 000AF6E4  7C A5 62 14 */	add r5, r5, r12
/* 800B4128 000AF6E8  7C BA 0E 70 */	srawi r26, r5, 1
/* 800B412C 000AF6EC  7C 1B D0 00 */	cmpw r27, r26
/* 800B4130 000AF6F0  41 80 00 0C */	blt lbl_800B413C
/* 800B4134 000AF6F4  39 20 00 01 */	li r9, 1
/* 800B4138 000AF6F8  7F 7A D8 50 */	subf r27, r26, r27
lbl_800B413C:
/* 800B413C 000AF6FC  57 45 0F FE */	srwi r5, r26, 0x1f
/* 800B4140 000AF700  7C A5 D2 14 */	add r5, r5, r26
/* 800B4144 000AF704  7C B9 0E 70 */	srawi r25, r5, 1
/* 800B4148 000AF708  7C 1B C8 00 */	cmpw r27, r25
/* 800B414C 000AF70C  41 80 00 0C */	blt lbl_800B4158
/* 800B4150 000AF710  39 40 00 01 */	li r10, 1
/* 800B4154 000AF714  7F 79 D8 50 */	subf r27, r25, r27
lbl_800B4158:
/* 800B4158 000AF718  7E 99 51 D6 */	mullw r20, r25, r10
/* 800B415C 000AF71C  54 E5 08 3C */	slwi r5, r7, 1
/* 800B4160 000AF720  57 33 0F FE */	srwi r19, r25, 0x1f
/* 800B4164 000AF724  20 A5 00 01 */	subfic r5, r5, 1
/* 800B4168 000AF728  7E 73 CA 14 */	add r19, r19, r25
/* 800B416C 000AF72C  7E AC 41 D6 */	mullw r21, r12, r8
/* 800B4170 000AF730  7E 73 0E 70 */	srawi r19, r19, 1
/* 800B4174 000AF734  7E DA 49 D6 */	mullw r22, r26, r9
/* 800B4178 000AF738  7E B4 AA 14 */	add r21, r20, r21
/* 800B417C 000AF73C  7E D3 B2 14 */	add r22, r19, r22
/* 800B4180 000AF740  7E D5 B2 14 */	add r22, r21, r22
/* 800B4184 000AF744  7C A5 B1 D6 */	mullw r5, r5, r22
/* 800B4188 000AF748  7C 05 20 00 */	cmpw r5, r4
/* 800B418C 000AF74C  40 81 00 08 */	ble lbl_800B4194
/* 800B4190 000AF750  38 A3 FF FF */	addi r5, r3, -1
lbl_800B4194:
/* 800B4194 000AF754  7C 05 00 00 */	cmpw r5, r0
/* 800B4198 000AF758  40 80 00 08 */	bge lbl_800B41A0
/* 800B419C 000AF75C  3C A0 FF FF */	lis r5, 0xffff
lbl_800B41A0:
/* 800B41A0 000AF760  7D 6B 2A 14 */	add r11, r11, r5
/* 800B41A4 000AF764  2C 0B 7F FF */	cmpwi r11, 0x7fff
/* 800B41A8 000AF768  40 81 00 08 */	ble lbl_800B41B0
/* 800B41AC 000AF76C  39 60 7F FF */	li r11, 0x7fff
lbl_800B41B0:
/* 800B41B0 000AF770  2C 0B 80 00 */	cmpwi r11, -32768
/* 800B41B4 000AF774  40 80 00 08 */	bge lbl_800B41BC
/* 800B41B8 000AF778  39 60 80 00 */	li r11, -32768
lbl_800B41BC:
/* 800B41BC 000AF77C  6D 8C 80 00 */	xoris r12, r12, 0x8000
/* 800B41C0 000AF780  55 12 10 3A */	slwi r18, r8, 2
/* 800B41C4 000AF784  91 81 00 4C */	stw r12, 0x4c(r1)
/* 800B41C8 000AF788  54 D6 07 FE */	clrlwi r22, r6, 0x1f
/* 800B41CC 000AF78C  55 29 08 3C */	slwi r9, r9, 1
/* 800B41D0 000AF790  7D 0A 92 14 */	add r8, r10, r18
/* 800B41D4 000AF794  92 E1 00 48 */	stw r23, 0x48(r1)
/* 800B41D8 000AF798  7D 09 42 14 */	add r8, r9, r8
/* 800B41DC 000AF79C  55 08 18 38 */	slwi r8, r8, 3
/* 800B41E0 000AF7A0  54 CC 0F FE */	srwi r12, r6, 0x1f
/* 800B41E4 000AF7A4  C8 21 00 48 */	lfd f1, 0x48(r1)
/* 800B41E8 000AF7A8  7D 29 92 14 */	add r9, r9, r18
/* 800B41EC 000AF7AC  7C 18 44 AE */	lfdx f0, r24, r8
/* 800B41F0 000AF7B0  7D 0C 32 14 */	add r8, r12, r6
/* 800B41F4 000AF7B4  FC 21 10 28 */	fsub f1, f1, f2
/* 800B41F8 000AF7B8  7D 0C 0E 70 */	srawi r12, r8, 1
/* 800B41FC 000AF7BC  54 E8 18 38 */	slwi r8, r7, 3
/* 800B4200 000AF7C0  7C EA 4A 14 */	add r7, r10, r9
/* 800B4204 000AF7C4  7C E8 3A 14 */	add r7, r8, r7
/* 800B4208 000AF7C8  3A D6 FF FF */	addi r22, r22, -1
/* 800B420C 000AF7CC  FC 01 00 32 */	fmul f0, f1, f0
/* 800B4210 000AF7D0  56 C9 07 7A */	rlwinm r9, r22, 0, 0x1d, 0x1d
/* 800B4214 000AF7D4  54 E7 06 3E */	clrlwi r7, r7, 0x18
/* 800B4218 000AF7D8  7D 1F 60 AE */	lbzx r8, r31, r12
/* 800B421C 000AF7DC  7C E7 48 30 */	slw r7, r7, r9
/* 800B4220 000AF7E0  7D 07 3B 78 */	or r7, r8, r7
/* 800B4224 000AF7E4  FC 00 00 1E */	fctiwz f0, f0
/* 800B4228 000AF7E8  7C FF 61 AE */	stbx r7, r31, r12
/* 800B422C 000AF7EC  D8 01 00 50 */	stfd f0, 0x50(r1)
/* 800B4230 000AF7F0  81 81 00 54 */	lwz r12, 0x54(r1)
/* 800B4234 000AF7F4  2C 0C 00 7F */	cmpwi r12, 0x7f
/* 800B4238 000AF7F8  41 81 00 08 */	bgt lbl_800B4240
/* 800B423C 000AF7FC  39 80 00 7F */	li r12, 0x7f
lbl_800B4240:
/* 800B4240 000AF800  2C 0C 60 00 */	cmpwi r12, 0x6000
/* 800B4244 000AF804  41 80 00 08 */	blt lbl_800B424C
/* 800B4248 000AF808  39 80 60 00 */	li r12, 0x6000
lbl_800B424C:
/* 800B424C 000AF80C  38 C6 00 01 */	addi r6, r6, 1
/* 800B4250 000AF810  42 00 FE 8C */	bdnz lbl_800B40DC
lbl_800B4254:
/* 800B4254 000AF814  91 7C 00 00 */	stw r11, 0(r28)
/* 800B4258 000AF818  39 61 00 90 */	addi r11, r1, 0x90
/* 800B425C 000AF81C  7F C3 F3 78 */	mr r3, r30
/* 800B4260 000AF820  91 9C 00 04 */	stw r12, 4(r28)
/* 800B4264 000AF824  90 BC 00 08 */	stw r5, 8(r28)
/* 800B4268 000AF828  93 7C 00 0C */	stw r27, 0xc(r28)
/* 800B426C 000AF82C  93 5C 00 10 */	stw r26, 0x10(r28)
/* 800B4270 000AF830  93 3C 00 14 */	stw r25, 0x14(r28)
/* 800B4274 000AF834  48 09 B7 89 */	bl func_8014F9FC
/* 800B4278 000AF838  80 01 00 94 */	lwz r0, 0x94(r1)
/* 800B427C 000AF83C  7C 08 03 A6 */	mtlr r0
/* 800B4280 000AF840  38 21 00 90 */	addi r1, r1, 0x90
/* 800B4284 000AF844  4E 80 00 20 */	blr 