.section .text

glabel func_80154984
/* 80154984 0014FF44  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80154988 0014FF48  7C 08 02 A6 */	mflr r0
/* 8015498C 0014FF4C  90 01 00 34 */	stw r0, 0x34(r1)
/* 80154990 0014FF50  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 80154994 0014FF54  7C 9B 23 78 */	mr r27, r4
/* 80154998 0014FF58  7C DC 33 78 */	mr r28, r6
/* 8015499C 0014FF5C  7C 7A 1B 78 */	mr r26, r3
/* 801549A0 0014FF60  7C B9 2B 78 */	mr r25, r5
/* 801549A4 0014FF64  38 80 00 00 */	li r4, 0
/* 801549A8 0014FF68  7F 83 E3 78 */	mr r3, r28
/* 801549AC 0014FF6C  48 00 8B 51 */	bl func_8015D4FC
/* 801549B0 0014FF70  2C 03 00 00 */	cmpwi r3, 0
/* 801549B4 0014FF74  40 82 00 10 */	bne lbl_801549C4
/* 801549B8 0014FF78  7F 83 E3 78 */	mr r3, r28
/* 801549BC 0014FF7C  38 80 FF FF */	li r4, -1
/* 801549C0 0014FF80  48 00 8B 3D */	bl func_8015D4FC
lbl_801549C4:
/* 801549C4 0014FF84  7F DB C9 D7 */	mullw. r30, r27, r25
/* 801549C8 0014FF88  41 82 00 1C */	beq lbl_801549E4
/* 801549CC 0014FF8C  88 1C 00 0A */	lbz r0, 0xa(r28)
/* 801549D0 0014FF90  2C 00 00 00 */	cmpwi r0, 0
/* 801549D4 0014FF94  40 82 00 10 */	bne lbl_801549E4
/* 801549D8 0014FF98  80 1C 00 04 */	lwz r0, 4(r28)
/* 801549DC 0014FF9C  54 00 57 7F */	rlwinm. r0, r0, 0xa, 0x1d, 0x1f
/* 801549E0 0014FFA0  40 82 00 0C */	bne lbl_801549EC
lbl_801549E4:
/* 801549E4 0014FFA4  38 60 00 00 */	li r3, 0
/* 801549E8 0014FFA8  48 00 02 90 */	b lbl_80154C78
lbl_801549EC:
/* 801549EC 0014FFAC  28 00 00 02 */	cmplwi r0, 2
/* 801549F0 0014FFB0  40 82 00 08 */	bne lbl_801549F8
/* 801549F4 0014FFB4  48 00 0E B9 */	bl func_801558AC
lbl_801549F8:
/* 801549F8 0014FFB8  80 7C 00 04 */	lwz r3, 4(r28)
/* 801549FC 0014FFBC  3B E0 00 01 */	li r31, 1
/* 80154A00 0014FFC0  38 80 00 00 */	li r4, 0
/* 80154A04 0014FFC4  54 60 6F FF */	rlwinm. r0, r3, 0xd, 0x1f, 0x1f
/* 80154A08 0014FFC8  41 82 00 10 */	beq lbl_80154A18
/* 80154A0C 0014FFCC  54 60 3F BE */	rlwinm r0, r3, 7, 0x1e, 0x1f
/* 80154A10 0014FFD0  28 00 00 02 */	cmplwi r0, 2
/* 80154A14 0014FFD4  40 82 00 08 */	bne lbl_80154A1C
lbl_80154A18:
/* 80154A18 0014FFD8  38 80 00 01 */	li r4, 1
lbl_80154A1C:
/* 80154A1C 0014FFDC  2C 04 00 00 */	cmpwi r4, 0
/* 80154A20 0014FFE0  40 82 00 18 */	bne lbl_80154A38
/* 80154A24 0014FFE4  80 1C 00 04 */	lwz r0, 4(r28)
/* 80154A28 0014FFE8  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 80154A2C 0014FFEC  28 00 00 01 */	cmplwi r0, 1
/* 80154A30 0014FFF0  41 82 00 08 */	beq lbl_80154A38
/* 80154A34 0014FFF4  3B E0 00 00 */	li r31, 0
lbl_80154A38:
/* 80154A38 0014FFF8  80 1C 00 08 */	lwz r0, 8(r28)
/* 80154A3C 0014FFFC  54 00 1F 7F */	rlwinm. r0, r0, 3, 0x1d, 0x1f
/* 80154A40 00150000  40 82 00 54 */	bne lbl_80154A94
/* 80154A44 00150004  80 7C 00 04 */	lwz r3, 4(r28)
/* 80154A48 00150008  54 60 2F BD */	rlwinm. r0, r3, 5, 0x1e, 0x1e
/* 80154A4C 0015000C  54 60 2F 7E */	rlwinm r0, r3, 5, 0x1d, 0x1f
/* 80154A50 00150010  41 82 00 44 */	beq lbl_80154A94
/* 80154A54 00150014  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 80154A58 00150018  41 82 00 24 */	beq lbl_80154A7C
/* 80154A5C 0015001C  7F 83 E3 78 */	mr r3, r28
/* 80154A60 00150020  38 80 00 00 */	li r4, 0
/* 80154A64 00150024  38 A0 00 02 */	li r5, 2
/* 80154A68 00150028  48 00 06 71 */	bl func_801550D8
/* 80154A6C 0015002C  2C 03 00 00 */	cmpwi r3, 0
/* 80154A70 00150030  41 82 00 0C */	beq lbl_80154A7C
/* 80154A74 00150034  38 60 00 00 */	li r3, 0
/* 80154A78 00150038  48 00 02 00 */	b lbl_80154C78
lbl_80154A7C:
/* 80154A7C 0015003C  80 1C 00 08 */	lwz r0, 8(r28)
/* 80154A80 00150040  38 60 00 01 */	li r3, 1
/* 80154A84 00150044  50 60 E8 04 */	rlwimi r0, r3, 0x1d, 0, 2
/* 80154A88 00150048  90 1C 00 08 */	stw r0, 8(r28)
/* 80154A8C 0015004C  7F 83 E3 78 */	mr r3, r28
/* 80154A90 00150050  4B FF FE 15 */	bl func_801548A4
lbl_80154A94:
/* 80154A94 00150054  80 1C 00 08 */	lwz r0, 8(r28)
/* 80154A98 00150058  54 00 1F 7E */	srwi r0, r0, 0x1d
/* 80154A9C 0015005C  28 00 00 01 */	cmplwi r0, 1
/* 80154AA0 00150060  41 82 00 1C */	beq lbl_80154ABC
/* 80154AA4 00150064  38 60 00 01 */	li r3, 1
/* 80154AA8 00150068  38 00 00 00 */	li r0, 0
/* 80154AAC 0015006C  98 7C 00 0A */	stb r3, 0xa(r28)
/* 80154AB0 00150070  38 60 00 00 */	li r3, 0
/* 80154AB4 00150074  90 1C 00 28 */	stw r0, 0x28(r28)
/* 80154AB8 00150078  48 00 01 C0 */	b lbl_80154C78
lbl_80154ABC:
/* 80154ABC 0015007C  2C 1E 00 00 */	cmpwi r30, 0
/* 80154AC0 00150080  3B A0 00 00 */	li r29, 0
/* 80154AC4 00150084  41 82 01 28 */	beq lbl_80154BEC
/* 80154AC8 00150088  80 7C 00 1C */	lwz r3, 0x1c(r28)
/* 80154ACC 0015008C  80 9C 00 24 */	lwz r4, 0x24(r28)
/* 80154AD0 00150090  7C 04 18 40 */	cmplw r4, r3
/* 80154AD4 00150094  40 82 00 0C */	bne lbl_80154AE0
/* 80154AD8 00150098  2C 1F 00 00 */	cmpwi r31, 0
/* 80154ADC 0015009C  41 82 01 10 */	beq lbl_80154BEC
lbl_80154AE0:
/* 80154AE0 001500A0  80 1C 00 20 */	lwz r0, 0x20(r28)
/* 80154AE4 001500A4  7C 63 20 50 */	subf r3, r3, r4
/* 80154AE8 001500A8  7C 03 00 50 */	subf r0, r3, r0
/* 80154AEC 001500AC  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_80154AF0:
/* 80154AF0 001500B0  80 BC 00 28 */	lwz r5, 0x28(r28)
/* 80154AF4 001500B4  3B 20 00 00 */	li r25, 0
/* 80154AF8 001500B8  7C 05 F0 40 */	cmplw r5, r30
/* 80154AFC 001500BC  90 A1 00 08 */	stw r5, 8(r1)
/* 80154B00 001500C0  40 81 00 0C */	ble lbl_80154B0C
/* 80154B04 001500C4  7F C5 F3 78 */	mr r5, r30
/* 80154B08 001500C8  93 C1 00 08 */	stw r30, 8(r1)
lbl_80154B0C:
/* 80154B0C 001500CC  80 1C 00 04 */	lwz r0, 4(r28)
/* 80154B10 001500D0  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 80154B14 001500D4  28 00 00 01 */	cmplwi r0, 1
/* 80154B18 001500D8  40 82 00 30 */	bne lbl_80154B48
/* 80154B1C 001500DC  2C 05 00 00 */	cmpwi r5, 0
/* 80154B20 001500E0  41 82 00 28 */	beq lbl_80154B48
/* 80154B24 001500E4  7F 43 D3 78 */	mr r3, r26
/* 80154B28 001500E8  38 80 00 0A */	li r4, 0xa
/* 80154B2C 001500EC  48 00 09 A1 */	bl func_801554CC
/* 80154B30 001500F0  2C 03 00 00 */	cmpwi r3, 0
/* 80154B34 001500F4  7C 79 1B 78 */	mr r25, r3
/* 80154B38 001500F8  41 82 00 10 */	beq lbl_80154B48
/* 80154B3C 001500FC  38 03 00 01 */	addi r0, r3, 1
/* 80154B40 00150100  7C BA 00 50 */	subf r5, r26, r0
/* 80154B44 00150104  90 A1 00 08 */	stw r5, 8(r1)
lbl_80154B48:
/* 80154B48 00150108  80 A1 00 08 */	lwz r5, 8(r1)
/* 80154B4C 0015010C  2C 05 00 00 */	cmpwi r5, 0
/* 80154B50 00150110  41 82 00 38 */	beq lbl_80154B88
/* 80154B54 00150114  80 7C 00 24 */	lwz r3, 0x24(r28)
/* 80154B58 00150118  7F 44 D3 78 */	mr r4, r26
/* 80154B5C 0015011C  4B EA F7 DD */	bl memcpy
/* 80154B60 00150120  80 81 00 08 */	lwz r4, 8(r1)
/* 80154B64 00150124  80 7C 00 24 */	lwz r3, 0x24(r28)
/* 80154B68 00150128  80 1C 00 28 */	lwz r0, 0x28(r28)
/* 80154B6C 0015012C  7F 5A 22 14 */	add r26, r26, r4
/* 80154B70 00150130  7C 63 22 14 */	add r3, r3, r4
/* 80154B74 00150134  7F C4 F0 50 */	subf r30, r4, r30
/* 80154B78 00150138  90 7C 00 24 */	stw r3, 0x24(r28)
/* 80154B7C 0015013C  80 61 00 08 */	lwz r3, 8(r1)
/* 80154B80 00150140  7C 03 00 50 */	subf r0, r3, r0
/* 80154B84 00150144  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_80154B88:
/* 80154B88 00150148  80 1C 00 28 */	lwz r0, 0x28(r28)
/* 80154B8C 0015014C  2C 00 00 00 */	cmpwi r0, 0
/* 80154B90 00150150  41 82 00 18 */	beq lbl_80154BA8
/* 80154B94 00150154  2C 19 00 00 */	cmpwi r25, 0
/* 80154B98 00150158  40 82 00 10 */	bne lbl_80154BA8
/* 80154B9C 0015015C  80 1C 00 04 */	lwz r0, 4(r28)
/* 80154BA0 00150160  54 00 3F BF */	rlwinm. r0, r0, 7, 0x1e, 0x1f
/* 80154BA4 00150164  40 82 00 30 */	bne lbl_80154BD4
lbl_80154BA8:
/* 80154BA8 00150168  7F 83 E3 78 */	mr r3, r28
/* 80154BAC 0015016C  38 80 00 00 */	li r4, 0
/* 80154BB0 00150170  4B FF FD 1D */	bl func_801548CC
/* 80154BB4 00150174  2C 03 00 00 */	cmpwi r3, 0
/* 80154BB8 00150178  41 82 00 1C */	beq lbl_80154BD4
/* 80154BBC 0015017C  38 60 00 01 */	li r3, 1
/* 80154BC0 00150180  38 00 00 00 */	li r0, 0
/* 80154BC4 00150184  98 7C 00 0A */	stb r3, 0xa(r28)
/* 80154BC8 00150188  3B C0 00 00 */	li r30, 0
/* 80154BCC 0015018C  90 1C 00 28 */	stw r0, 0x28(r28)
/* 80154BD0 00150190  48 00 00 1C */	b lbl_80154BEC
lbl_80154BD4:
/* 80154BD4 00150194  80 01 00 08 */	lwz r0, 8(r1)
/* 80154BD8 00150198  2C 1E 00 00 */	cmpwi r30, 0
/* 80154BDC 0015019C  7F BD 02 14 */	add r29, r29, r0
/* 80154BE0 001501A0  41 82 00 0C */	beq lbl_80154BEC
/* 80154BE4 001501A4  2C 1F 00 00 */	cmpwi r31, 0
/* 80154BE8 001501A8  40 82 FF 08 */	bne lbl_80154AF0
lbl_80154BEC:
/* 80154BEC 001501AC  2C 1E 00 00 */	cmpwi r30, 0
/* 80154BF0 001501B0  41 82 00 6C */	beq lbl_80154C5C
/* 80154BF4 001501B4  2C 1F 00 00 */	cmpwi r31, 0
/* 80154BF8 001501B8  40 82 00 64 */	bne lbl_80154C5C
/* 80154BFC 001501BC  83 3C 00 1C */	lwz r25, 0x1c(r28)
/* 80154C00 001501C0  7C 1A F2 14 */	add r0, r26, r30
/* 80154C04 001501C4  83 FC 00 20 */	lwz r31, 0x20(r28)
/* 80154C08 001501C8  7F 83 E3 78 */	mr r3, r28
/* 80154C0C 001501CC  93 5C 00 1C */	stw r26, 0x1c(r28)
/* 80154C10 001501D0  38 81 00 08 */	addi r4, r1, 8
/* 80154C14 001501D4  93 DC 00 20 */	stw r30, 0x20(r28)
/* 80154C18 001501D8  90 1C 00 24 */	stw r0, 0x24(r28)
/* 80154C1C 001501DC  4B FF FC B1 */	bl func_801548CC
/* 80154C20 001501E0  2C 03 00 00 */	cmpwi r3, 0
/* 80154C24 001501E4  41 82 00 18 */	beq lbl_80154C3C
/* 80154C28 001501E8  38 60 00 01 */	li r3, 1
/* 80154C2C 001501EC  38 00 00 00 */	li r0, 0
/* 80154C30 001501F0  98 7C 00 0A */	stb r3, 0xa(r28)
/* 80154C34 001501F4  90 1C 00 28 */	stw r0, 0x28(r28)
/* 80154C38 001501F8  48 00 00 0C */	b lbl_80154C44
lbl_80154C3C:
/* 80154C3C 001501FC  80 01 00 08 */	lwz r0, 8(r1)
/* 80154C40 00150200  7F BD 02 14 */	add r29, r29, r0
lbl_80154C44:
/* 80154C44 00150204  93 3C 00 1C */	stw r25, 0x1c(r28)
/* 80154C48 00150208  7F 83 E3 78 */	mr r3, r28
/* 80154C4C 0015020C  93 FC 00 20 */	stw r31, 0x20(r28)
/* 80154C50 00150210  4B FF FC 55 */	bl func_801548A4
/* 80154C54 00150214  38 00 00 00 */	li r0, 0
/* 80154C58 00150218  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_80154C5C:
/* 80154C5C 0015021C  80 1C 00 04 */	lwz r0, 4(r28)
/* 80154C60 00150220  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 80154C64 00150224  28 00 00 02 */	cmplwi r0, 2
/* 80154C68 00150228  41 82 00 0C */	beq lbl_80154C74
/* 80154C6C 0015022C  38 00 00 00 */	li r0, 0
/* 80154C70 00150230  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_80154C74:
/* 80154C74 00150234  7C 7D DB 96 */	divwu r3, r29, r27
lbl_80154C78:
/* 80154C78 00150238  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 80154C7C 0015023C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80154C80 00150240  7C 08 03 A6 */	mtlr r0
/* 80154C84 00150244  38 21 00 30 */	addi r1, r1, 0x30
/* 80154C88 00150248  4E 80 00 20 */	blr 